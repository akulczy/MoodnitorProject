<%- include("../elements/header.ejs") %>

</head>

<body>
    <%- include("../elements/sidebar-specialist.ejs") %>

    <%- include("../elements/topbar-internal.ejs") %>
<div class="main-body">
    <div class="users-page-cont">
        <div class="title-wrapper">
            <div class="title-with-border">
                <div>Edit User's Details</div>
                <div class="title-line"></div>
            </div>
        </div>

        <div class="add-user-wrapper" style="margin-top: 2rem;">
            <div class="add-user-container edit-user-container container-shadow">
                <form method="POST" id="editUserForm" action="/dashboard/specialist/users/update">
                    <input type="hidden" name="uId" value="<%= user.id %>" />
                    <div class="row">
                        <div class="col-lg-12">
                            <label for="userName">Name:</label>
                            <input type="text" class="form-control" id="userName" name="userName" value="<%= user.name %>" required>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <label for="userSurname">Surname:</label>
                            <input type="text" class="form-control" id="userSurname" name="userSurname" value="<%= user.surname %>" required>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <label for="userEmail">Email Address:</label>
                            <input type="email" class="form-control" id="userEmail" name="userEmail" value="<%= user.email %>" required>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <label for="userPhone">Phone number:</label>
                            <input type="number" class="form-control" id="userPhone" name="userPhone" value="<%= user.telephone %>" required>
                        </div>
                    </div>
                    <div class="row" >
                        <div class="col-lg-6" id="dropDownRow">
                            <label class="form-check-label" for="assign-specialist">Assigned to:</label>
                            <select class="custom-select" name="assignSpecialist" id="assign-specialist">
                                <% for(let specialist of specialists) { %>
                                    <% if(specialist.id == user.Specialist.id) { %>
                                        <option value="<%- specialist.id %>" selected><%- specialist.name + " " + specialist.surname %></option>
                                    <% } else { %>
                                        <option value="<%- specialist.id %>"><%- specialist.name + " " + specialist.surname %></option>
                                    <% } %>
                                <% } %>
                            </select>
                        </div>
                    </div>
                    <div class="row alignnextbtn">
                        <button class="btnNoStyle btnGradBlue" id="editUserBtn">Update User</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    $("#users-element").addClass("active-sidebar-element");
</script>
<script type="text/javascript" src="/scripts/administrative/manage-users.js"></script>
</body>

</html>